# Bisect - Project Memory

## Project Overview

**Bisect** is a unified 3D creator platform that merges three creative studios into a single no-code application:
- **Vector Studio** - SVG editor with AI vectorization
- **Texture Studio** - MatCap & PBR texture generation
- **3D Studio** - Universal 3D scene editor with material system

**Version**: 0.1.0 (Beta)
**Repository**: https://github.com/kpm34/bisect
**Live Domain**: bisect.app

**Goal**: Create a Spline-like tool with zero learning curve for:
- UI development & 3D components
- Professional 3D workflows
- Branding/logo creation
- Website UI enhancement
- AR/VR flows (future)

## Current Status (85% Core Complete)

### ✅ Fully Implemented (95%+)
- **Vector Studio**: Complete SVG editor with 15+ tools, AI vectorization, 7 export formats
- **Texture Studio**: MatCap/PBR generation with Gemini AI, auto normal/roughness maps
- **3D Studio Core**: Universal format support (Spline, GLTF, GLB, FBX, OBJ)
- **Material System**: 600+ PBR presets (Gold, Silver, Copper, Iron, Titanium), Supabase integration
- **Navigation & Shell**: Three-studio architecture with unified navigation
- **Project Persistence**: IndexedDB + Supabase storage
- **Scene Hierarchy**: Tree view with object selection
- **Transform Controls**: Position, rotation, scale manipulation

### ⚠️ Partially Implemented (50-80%)
- **MCP Bridge**: Protocol established, smart edit integration in progress
- **AI Orchestrator**: Multi-model routing done, some API endpoints incomplete
- **Drag & Drop**: Structure complete, handlers have implementation TODOs
- **Cross-Studio Integration**: State management exists, not fully connected

### ❌ Not Yet Implemented
- **Object Creation**: No primitive creation tools (cubes, spheres, etc.)
- **Boolean Operations**: Union, Subtract, Intersect not implemented
- **Animation System**: Timeline placeholder only, no keyframe system
- **Scene Settings**: Lighting, camera, environment controls missing
- **AR/VR**: Not started (WebXR)
- **Material Editor**: No custom material creation UI
- **Export Hub**: No unified export interface

## Tech Stack

### Core
- **Next.js** 14.2.33 (App Router, TypeScript)
- **React** 18.3.1
- **TypeScript** 5.9.0
- **Tailwind CSS** 3.4.1

### 3D & Graphics
- **Three.js** 0.160.0
- **React Three Fiber** 8.15.0
- **@react-three/drei** 9.88.0
- **@splinetool/runtime** 1.10.99

### AI & LLMs
- **OpenAI** 4.67.0 (GPT-4o for scene editing)
- **@anthropic-ai/sdk** 0.32.0 (Claude for reasoning)
- **@google/generative-ai** 0.21.0 (Gemini for textures/vectors)

### Data & State
- **Zustand** 4.5.0 (reactive state)
- **@supabase/supabase-js** 2.84.0 (cloud DB & storage)
- **idb** 8.0.0 (IndexedDB)

## Key Files

### Entry Points
- `app/page.tsx` - Landing page
- `app/studio/3d-canvas/page.tsx` - 3D Studio
- `app/studio/svg-canvas/page.tsx` - Vector Studio
- `app/studio/tex-factory/page.tsx` - Texture Studio

### Core Systems
- `lib/store/unified-store.ts` - Zustand state management
- `lib/core/ai/unified-spline-agent.ts` - GPT-4o scene agent
- `lib/core/materials/material-manifest.ts` - 600+ material definitions
- `lib/services/mcp-bridge-handler.ts` - MCP integration

### UI Components
- `components/shared/Shell.tsx` - Main navigation shell
- `app/studio/3d-canvas/components/MaterialPreviewOverlay.tsx` - Material selector

## Priority Tasks

### Phase 1 (Current - AI/UX)
1. Complete MCP bridge smart edit integration
2. Finish AI orchestrator API implementations
3. Complete drag & drop handlers
4. Add object creation tools (primitives)

### Phase 2 (Animation/Scene)
5. Build animation timeline and keyframe system
6. Implement scene settings panel (lighting, camera, environment)
7. Add boolean operations

### Phase 3 (Polish/Export)
8. Create material editor UI
9. Add AR/VR support (WebXR)
10. Build unified export hub

## Recent Development (Nov 25-30, 2025)

- MCP bridge implementation for AI-powered 3D editing
- AI orchestrator multi-model routing
- PBR texture support from Supabase library
- Material swatches UI responsiveness fixes
- Titanium/copper material variants
- Scene canvas layout improvements

## Database (Supabase)

```
Database: PostgreSQL (vmawsauglaejrwfajnht)
├── material_categories    (Gold, Silver, Copper, Iron, Titanium)
├── material_presets       (finishes, tints, aged tabs per category)
└── material_variations    (Browse variations for each preset)

Storage Bucket: material-previews
└── {category}/{preset}/{variation}.png (512x512 Blender renders)
```

## Environment Variables

```env
OPENAI_API_KEY              # GPT-4o for 3D scene editing
GOOGLE_GEMINI_API_KEY       # Gemini for textures & SVG
ANTHROPIC_API_KEY           # Claude for reasoning (optional)
OPENROUTER_API_KEY          # Multi-model access (optional)
NEXT_PUBLIC_SUPABASE_URL    # Supabase project URL
NEXT_PUBLIC_SUPABASE_ANON_KEY  # Supabase anon key
```

## Deployment

- **Platform**: Vercel
- **Project**: `bisect` (existing - do NOT create new)
- **Domain**: bisect.app
- **Auto-deploy**: Main branch → production
- **Command**: `vercel --prod`

---
*Last updated: Nov 30, 2025*
